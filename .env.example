# Access Request Management Dashboard - Environment Configuration
# Copy this file to .env and update with your actual values

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# PostgreSQL Database Connection
DB_HOST=localhost
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=Karanja8

# Database SSL Configuration (set to 'true' in production)
DB_SSL=false

# Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000

# ===========================================
# SERVER CONFIGURATION
# ===========================================

# Application Port
PORT=3000

# Environment (development, staging, production)
NODE_ENV=development

# Base URL for API (used in production)
API_BASE_URL=http://localhost:3000

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# JWT Secret Key (generate a strong random key for production)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT Token Expiration (in seconds or string like '7d', '24h')
JWT_EXPIRES_IN=7d

# Password Hashing Rounds (10-12 recommended)
BCRYPT_ROUNDS=12

# Session Secret (for session-based authentication if used)
SESSION_SECRET=your-session-secret-key

# ===========================================
# RATE LIMITING CONFIGURATION
# ===========================================

# Rate limit window in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window per IP
RATE_LIMIT_MAX=100

# Rate limit message
RATE_LIMIT_MESSAGE=Too many requests from this IP, please try again later

# ===========================================
# CORS CONFIGURATION
# ===========================================

# Allowed Origins (comma-separated for multiple origins)
CORS_ORIGIN=http://localhost:3000,http://127.0.0.1:3000

# CORS Credentials
CORS_CREDENTIALS=true

# ===========================================
# LOGGING CONFIGURATION
# ===========================================

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# Log File Path (leave empty to disable file logging)
LOG_FILE_PATH=logs/app.log

# Log Format (json, simple)
LOG_FORMAT=json

# ===========================================
# EMAIL CONFIGURATION (for notifications)
# ===========================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email From Address
EMAIL_FROM=noreply@yourcompany.com
EMAIL_FROM_NAME=Access Request Dashboard

# ===========================================
# FILE UPLOAD CONFIGURATION
# ===========================================

# Maximum file size in bytes (5MB = 5242880)
MAX_FILE_SIZE=5242880

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf,text/plain

# Upload directory
UPLOAD_DIR=uploads

# ===========================================
# CACHE CONFIGURATION
# ===========================================

# Redis Configuration (if using Redis for caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Cache TTL in seconds
CACHE_TTL=3600

# ===========================================
# MONITORING & ANALYTICS
# ===========================================

# Application Insights Key (if using Azure Application Insights)
APPINSIGHTS_INSTRUMENTATIONKEY=

# Google Analytics ID (if using GA for frontend tracking)
GA_TRACKING_ID=

# Sentry DSN (if using Sentry for error tracking)
SENTRY_DSN=

# ===========================================
# EXTERNAL SERVICES
# ===========================================

# Active Directory/LDAP Configuration (if using AD authentication)
AD_URL=ldap://your-ad-server.com
AD_BASE_DN=dc=yourcompany,dc=com
AD_USERNAME=service-account@yourcompany.com
AD_PASSWORD=service-account-password

# Slack Webhook (for notifications)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Microsoft Teams Webhook (for notifications)
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/TEAMS/WEBHOOK

# ===========================================
# FEATURE FLAGS
# ===========================================

# Enable/disable features
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_SLACK_NOTIFICATIONS=false
ENABLE_AUDIT_LOGGING=true
ENABLE_FILE_UPLOADS=true
ENABLE_EXPORT_FEATURES=true

# ===========================================
# BACKUP CONFIGURATION
# ===========================================

# Database backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=backups

# ===========================================
# PERFORMANCE TUNING
# ===========================================

# Request timeout in milliseconds
REQUEST_TIMEOUT=30000

# Keep alive timeout
KEEP_ALIVE_TIMEOUT=65000

# Maximum request body size
MAX_REQUEST_SIZE=10mb

# ===========================================
# DEVELOPMENT ONLY SETTINGS
# ===========================================

# Enable debug mode (development only)
DEBUG=false

# Enable detailed error responses (development only)
DETAILED_ERRORS=true

# Mock external services (development/testing)
MOCK_EMAIL_SERVICE=true
MOCK_AD_SERVICE=true

# ===========================================
# PRODUCTION SECURITY HEADERS
# ===========================================

# Content Security Policy
CSP_SCRIPT_SRC="'self' 'unsafe-inline' https://cdnjs.cloudflare.com"
CSP_STYLE_SRC="'self' 'unsafe-inline'"
CSP_IMG_SRC="'self' data: https:"

# Strict Transport Security (HSTS) max age
HSTS_MAX_AGE=31536000

# ===========================================
# DATABASE MIGRATION SETTINGS
# ===========================================

# Auto-run migrations on startup
AUTO_MIGRATE=false

# Migration table name
MIGRATION_TABLE_NAME=schema_migrations

# ===========================================
# TESTING CONFIGURATION
# ===========================================

# Test Database (separate from main database)
TEST_DB_NAME=access_request_test_db
TEST_DB_HOST=localhost
TEST_DB_PORT=5432
TEST_DB_USER=postgres
TEST_DB_PASSWORD=test_password

# ===========================================
# DOCKER CONFIGURATION
# ===========================================

# Docker-specific environment variables
DOCKER_ENV=false
CONTAINER_NAME=access-request-dashboard